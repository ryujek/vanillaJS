<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>vanillaJS Day3 - 입력받은 숫자의 합</title>
</head>
<body>
	<div id="input_area1">
		<input type="text" id="input0">
		<button type="button" id="btn0">입력</button>
	</div>
	<div id="input_area2">
		<input type="text" id="input1">
		<button type="button" id="btn1">입력</button>
	</div>
	<div id="input_area3">
		<input type="text" id="input2">
		<button type="button" id="btn2">입력</button>
	</div>
	<button type="button" id="allBtn">전체합계</button>

	<script type="text/javascript">
		var result = 0;
		var allBtn = document.querySelector('#allBtn');

		function inputNumber(tag){
			var tag = document.querySelector(tag)
			var input = tag.querySelector('input');
			var btn = tag.querySelector('button');

			btn.addEventListener('click', function(){
				var val = input.value;
				var num = 0;

				val = val.replace(/[^0-9]/g, "");
				for(var i=0; i<val.length; i++){
					num = num + Number(val[i]);
				}
				result += num;
				console.log('입력받은 숫자의 합은' + num);

				btn.disabled = 'true';
			})
		}

		allBtn.addEventListener('click', function(){

			console.log('입력받은 숫자의 합은' + result);

		})

		inputNumber('#input_area1')
		inputNumber('#input_area2')
		inputNumber('#input_area3')
	</script>
</body>
</html>
